<!DOCTYPE html>
<html>
<title>GoogleChart5</title>
<head>
<meta charset="utf-8">
<!--Load the AJAX API-->
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">

// Load the Visualization API and the piechart package. (load套件)
google.load('visualization', '1.0', {'packages':['corechart']});

// Set a callback to run when the Google Visualization API is loaded.
// google.setOnLoadCallback(drawChart); ****

  // Callback that creates and populates a data table,
  // instantiates the pie chart, passes in the data and
  // draws it.
function drawChart() {
	// 準備資料

	var a = [];
	a[0] = ["公司","市佔率"];
	var name;
	var number;

	for (var i = 0; i < 3; i++) {
		name = document.getElementById("name-"+i).value;
		number = document.getElementById("num-"+i).value;		
		if (name == "") {
			break;
		};
		number = Number(number);
		a[i+1] = [name, number];
	};
	
	var data = google.visualization.arrayToDataTable(a);
  /* 
  var data = google.visualization.arrayToDataTable([
  	['搜尋','市佔'],
  	['Google',70],
  	['Yahoo',15],
  	['Bing',15]
  ]
  );
*/

  // 用圖表呈現資料
  // Set chart options
  var options = {
  								'title':'Search Engine Ranking',
                 	'width':600,
                 	'height':500,
                 	// colors:['red','#0000ff', 'green']
               };

  // Instantiate and draw our chart, passing in some options.
  var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
  chart.draw(data, options);
}

</script>
<!-- HTML ****************************************************************************** -->
</head>

  <body>
  	<div>
  		Name: <input type="text" id="name-0" /> Num<input type="text" id="num-0"/>
  	</div>
  	<div>
  		Name: <input type="text" id="name-1" /> Num<input type="text" id="num-1"/>
  	</div>
  	<div>
  		Name: <input type="text" id="name-2" /> Num<input type="text" id="num-2"/>
  	</div>


		<div>			
		<button onclick="drawChart();">畫圖</button>
		</div>  	

    <!--Div that will hold the pie chart-->
    <div id="chart_div"></div>
  </body>

</html>
